(function(){var a;a=angular.module("ngOnboarding",[]),a.provider("ngOnboardingDefaults",function(){return{options:{overlay:!0,overlayOpacity:.6,overlayClass:"onboarding-overlay",popoverClass:"onboarding-popover",titleClass:"onboarding-popover-title",contentClass:"onboarding-popover-content",arrowClass:"onboarding-arrow",buttonContainerClass:"onboarding-button-container",buttonClass:"onboarding-button",acceptTourButtonClass:"onboarding-accept",dontAccetpTourButtonClass:"onboarding-reject",showButtons:!0,nextButtonText:"Next &rarr;",previousButtonText:"&larr; Previous",showDoneButton:!0,doneButtonText:"Done",showCloseButton:!0,closeButtonClass:"onboarding-close-button",closeButtonText:"X",stepClass:"onboarding-step-info",showStepInfo:!0},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)d=a[c],e.push(this.options[c]=d);return e}return this.options[a]=b}}}),a.directive("onboardingPopover",["ngOnboardingDefaults","$sce","$timeout",function(a,b,c){return{restrict:"E",scope:{enabled:"=",steps:"=",onFinishCallback:"<onFinishCallback",index:"=stepIndex"},replace:!0,link:function(d,e,f){var g,h,i,j;return h=null,g=["title","top","right","bottom","left","width","height","position"],d.stepCount=d.steps.length,d.next=function(){return d.index=d.index+1},d.previous=function(){return d.index=d.index-1},d.close=function(a){return d.enabled=!1,i(!1),d.onFinishCallback?d.onFinishCallback(a):void 0},d.$watch("index",function(e,f){return null===e?(d.enabled=!1,void i(!1)):(h=d.steps[d.index],h.preStep&&h.preStep(),c(function(){var c,e,f,k,l;for(d.finalStep=h.finalStep,d.acceptTourStep=h.acceptTour,d.doneButtonText=h.doneButtonText||d.doneButtonText,d.doneButtonClass=h.doneButtonClas,d.lastStep=d.index+1===d.steps.length,d.showNextButton=d.index+1<d.steps.length,d.showPreviousButton=d.index>0,k=0,l=g.length;l>k;k++)c=g[k],d[c]=null;for(e in a)f=a[e],void 0===h[e]&&(d[e]=f);for(e in h)f=h[e],d[e]=f;return d.description=b.trustAsHtml(d.description),d.nextButtonText=b.trustAsHtml(d.nextButtonText),d.previousButtonText=b.trustAsHtml(d.previousButtonText),d.doneButtonText=b.trustAsHtml(d.doneButtonText),d.closeButtonText=b.trustAsHtml(d.closeButtonText),i(),j()}))}),i=function(a){return null==a&&(a=!0),$(".onboarding-focus").removeClass("onboarding-focus"),a&&h.attachTo&&d.overlay&&($(h.attachTo).addClass("onboarding-focus"),h.alsoHighlight)?$(h.alsoHighlight).addClass("onboarding-focus"):void 0},j=function(){var a,b,c,e,f,g,i;return a=h.attachTo,d.position=h.position,g=15,i=15,a&&(d.left||d.right||(c=null,e=null,"right"===d.position?c=$(a).offset().left+$(a).outerWidth()+g:"left"===d.position?e=$(window).width()-$(a).offset().left+g:("top"===d.position||"bottom"===d.position)&&(c=$(a).offset().left),h.xOffset&&(null!==c&&(c+=h.xOffset),null!==e&&(e-=h.xOffset)),d.left=c,d.right=e),d.top||d.bottom||(f=null,b=null,"left"===d.position||"right"===d.position?f=$(a).offset().top:"bottom"===d.position?f=$(a).offset().top+$(a).outerHeight()+i:"top"===d.position&&(b=$(window).height()-$(a).offset().top+i),h.yOffset&&(null!==f&&(f+=h.yOffset),null!==b&&(b-=h.yOffset)),d.top=f,d.bottom=b)),d.position&&d.position.length?d.positionClass="onboarding-"+d.position:d.positionClass=null},d.steps.length&&!d.index?d.index=0:void 0},template:"<div class='onboarding-container' ng-show='enabled'>\n  <div class='{{overlayClass}}' ng-style='{opacity: overlayOpacity}', ng-show='overlay'></div>\n  <div class='{{popoverClass}} {{positionClass}}' ng-style=\"{width: width + 'px', height: height + 'px', left: left + 'px', top: top + 'px', right: right + 'px', bottom: bottom + 'px'}\">\n    <div class='{{arrowClass}}'></div>\n    <h3 class='{{titleClass}}' ng-show='title' ng-bind='title'></h3>\n    <a href='' ng-if='showCloseButton' ng-click='close(true)' class='{{closeButtonClass}}' ng-bind-html='closeButtonText'></a>\n\n    <div ng-if='acceptTourStep' class='onboarding-accept-holder'>\n      <div ng-bind-html='description'></div>\n      <button ng-click='next()' class='{{buttonClass}} {{acceptTourButtonClass}}'>{{acceptTourStep.ok | translate}}</button>\n      <button ng-click='close(true)' class='{{buttonClass}} {{dontAccetpTourButtonClass}}'>{{acceptTourStep.ko | translate}}</button>\n      <p>{{acceptTourStep.disclaimer}}</p>\n    </div>\n\n    <div ng-if='!acceptTourStep'>\n      <div class='{{contentClass}}'>\n        <p ng-bind-html='description'></p>\n      </div>\n      <div class='{{buttonContainerClass}}' ng-show='showButtons'>\n        <span ng-show='showStepInfo' class='{{stepClass}}'>Step {{index + 1}} of {{stepCount}}</span>\n        <button href='' ng-click='previous()' ng-show='showPreviousButton' class='{{buttonClass}}'>{{previousButtonText | translate}}</button>\n        <button href='' ng-click='next()' ng-show='showNextButton' class='{{buttonClass}}'>{{nextButtonText | translate}}</button>\n        <button href='' ng-click='close(finalStep)' ng-if='showDoneButton && lastStep' class='{{buttonClass}} {{doneButtonClass}}'>{{doneButtonText | translate}}</button>\n      </div>\n    </div>\n\n  </div>\n</div>"}}])}).call(this);