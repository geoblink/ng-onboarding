(function(){var a;a=angular.module("ngOnboarding",[]),a.provider("ngOnboardingDefaults",function(){return{options:{overlay:!0,overlayOpacity:.6,overlayClass:"onboarding-overlay",popoverClass:"onboarding-popover",titleClass:"onboarding-popover-title",contentClass:"onboarding-popover-content",arrowClass:"onboarding-arrow",buttonContainerClass:"onboarding-button-container",buttonClass:"onboarding-button",acceptTourButtonClass:"onboarding-accept",dontAccetpTourButtonClass:"onboarding-reject",showButtons:!0,nextButtonText:"Next &rarr;",previousButtonText:"&larr; Previous",showDoneButton:!0,doneButtonText:"Done",showCloseButton:!0,closeButtonClass:"onboarding-close-button",closeButtonText:"X",stepClass:"onboarding-step-info",showStepInfo:!0},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)d=a[c],e.push(this.options[c]=d);return e}return this.options[a]=b}}}),a.directive("onboardingPopover",["ngOnboardingDefaults","$sce","$timeout","$filter",function(a,b,c,d){return{restrict:"E",scope:{enabled:"=",steps:"=",onFinishCallback:"<onFinishCallback",index:"=stepIndex"},replace:!0,link:function(e,f,g){var h,i,j,k,l;return i=null,l=d("translate"),h=["title","top","right","bottom","left","width","height","position"],e.stepCount=e.steps.length,e.next=function(){return e.index=e.index+1},e.previous=function(){return e.index=e.index-1},e.close=function(a){return e.enabled=!1,j(!1),e.onFinishCallback?e.onFinishCallback(a):void 0},e.$watch("index",function(d,f){return null===d?(e.enabled=!1,void j(!1)):(i=e.steps[e.index],i.preStep&&i.preStep(),c(function(){var c,d,f,g,m;for(e.finalStep=i.finalStep,e.acceptTourStep=i.acceptTour,e.doneButtonText=i.doneButtonText||e.doneButtonText,e.doneButtonClass=i.doneButtonClas,e.lastStep=e.index+1===e.steps.length,e.showNextButton=e.index+1<e.steps.length,e.showPreviousButton=e.index>0,g=0,m=h.length;m>g;g++)c=h[g],e[c]=null;for(d in a)f=a[d],void 0===i[d]&&(e[d]=f);for(d in i)f=i[d],e[d]=f;return e.description=b.trustAsHtml(l(e.description)),e.nextButtonText=b.trustAsHtml(l(e.nextButtonText)),e.previousButtonText=b.trustAsHtml(l(e.previousButtonText)),e.doneButtonText=b.trustAsHtml(l(e.doneButtonText)),e.closeButtonText=b.trustAsHtml(l(e.closeButtonText)),j(),k()}))}),j=function(a){return null==a&&(a=!0),$(".onboarding-focus").removeClass("onboarding-focus"),a&&i.attachTo&&e.overlay&&($(i.attachTo).addClass("onboarding-focus"),i.alsoHighlight)?$(i.alsoHighlight).addClass("onboarding-focus"):void 0},k=function(){var a,b,c,d,f,g,h;return a=i.attachTo,e.position=i.position,g=15,h=15,a&&(e.left||e.right||(c=null,d=null,"right"===e.position?c=$(a).offset().left+$(a).outerWidth()+g:"left"===e.position?d=$(window).width()-$(a).offset().left+g:("top"===e.position||"bottom"===e.position)&&(c=$(a).offset().left),i.xOffset&&(null!==c&&(c+=i.xOffset),null!==d&&(d-=i.xOffset)),e.left=c,e.right=d),e.top||e.bottom||(f=null,b=null,"left"===e.position||"right"===e.position?f=$(a).offset().top:"bottom"===e.position?f=$(a).offset().top+$(a).outerHeight()+h:"top"===e.position&&(b=$(window).height()-$(a).offset().top+h),i.yOffset&&(null!==f&&(f+=i.yOffset),null!==b&&(b-=i.yOffset)),e.top=f,e.bottom=b)),e.position&&e.position.length?e.positionClass="onboarding-"+e.position:e.positionClass=null},e.steps.length&&!e.index?e.index=0:void 0},template:"<div class='onboarding-container' ng-show='enabled'>\n  <div class='{{overlayClass}}' ng-style='{opacity: overlayOpacity}', ng-show='overlay'></div>\n  <div class='{{popoverClass}} {{positionClass}}' ng-style=\"{width: width + 'px', height: height + 'px', left: left + 'px', top: top + 'px', right: right + 'px', bottom: bottom + 'px'}\">\n    <div class='{{arrowClass}}'></div>\n    <h3 class='{{titleClass}}' ng-show='title' ng-bind='title'></h3>\n    <a href='' ng-if='showCloseButton' ng-click='close(true)' class='{{closeButtonClass}}' ng-bind-html='closeButtonText'></a>\n\n    <div ng-if='acceptTourStep' class='onboarding-accept-holder'>\n      <div translate ng-bind-html='description'></div>\n      <button ng-click='next()' class='{{buttonClass}} {{acceptTourButtonClass}}'>{{acceptTourStep.ok | translate}}</button>\n      <button ng-click='close(true)' class='{{buttonClass}} {{dontAccetpTourButtonClass}}'>{{acceptTourStep.ko | translate}}</button>\n      <p>{{acceptTourStep.disclaimer | translate}}</p>\n    </div>\n\n    <div ng-if='!acceptTourStep'>\n      <div class='{{contentClass}}'>\n        <p translate ng-bind-html='description'></p>\n      </div>\n      <div class='{{buttonContainerClass}}' ng-show='showButtons'>\n        <span ng-show='showStepInfo' class='{{stepClass}}'>Step {{index + 1}} of {{stepCount}}</span>\n        <button href='' ng-click='previous()' ng-show='showPreviousButton' class='{{buttonClass}}'>{{previousButtonText | translate}}</button>\n        <button href='' ng-click='next()' ng-show='showNextButton' class='{{buttonClass}}'>{{nextButtonText | translate}}</button>\n        <button href='' ng-click='close(finalStep)' ng-if='showDoneButton && lastStep' class='{{buttonClass}} {{doneButtonClass}}'>{{doneButtonText | translate}}</button>\n      </div>\n    </div>\n\n  </div>\n</div>"}}])}).call(this);